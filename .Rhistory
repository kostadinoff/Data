library(knitr)
knitr::opts_chunk$set(cache = TRUE, cache.lazy = FALSE, warning = FALSE, message = FALSE, echo = TRUE, dpi = 180, fig.width = 8, fig.height = 5)
library(tidyverse)
library(silgelib)
theme_set(theme_plex())
update_geom_defaults("rect", list(fill = "midnightblue", alpha = 0.8))
library(gt)
library(lubridate)
rdf <- read.csv("https://raw.githubusercontent.com/kostadinoff/Data/main/OTBI/rdf_cost.csv", stringsAsFactors=TRUE) %>%
as_tibble() %>%
select(-"X")
rdf$date <- dmy(rdf$date)
rdf$date = as.Date(rdf$date)
rdf <- read.csv("https://raw.githubusercontent.com/kostadinoff/Data/main/OTBI/rdf_cost.csv", stringsAsFactors=TRUE) %>%
as_tibble() %>%
select(-"X")
rdf$date <- dmy(rdf$date)
rdf$date = as.Date(rdf$date)
rdf
costs = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum(QV))
costs
costs = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum(QV)) %>%
flextable()
library(flextable)
costs = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum(QV)) %>%
flextable()
costs = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum(QV)) %>%
flextable()
costs = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum(QV)) %>%
flextable()
costs
costs = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum(QV)) %>%
flextable()
costs
geom_col()
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum(QV)) %>%
ggplot(aes(year_Q, sum(QV))+
geom_col()
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum(QV)) %>%
ggplot(aes(year_Q, sum(QV)))+
geom_col()
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum(QV)) %>%
ggplot(aes(year_Q, sum(QV)))+
geom_col()
plot
plot
library(knitr)
knitr::opts_chunk$set(cache = TRUE, cache.lazy = FALSE, warning = FALSE, message = FALSE, echo = TRUE, dpi = 180, fig.width = 8, fig.height = 5)
library(tidyverse)
library(silgelib)
theme_set(theme_plex())
update_geom_defaults("rect", list(fill = "midnightblue", alpha = 0.8))
library(gt)
library(lubridate)
library(flextable)
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum(QV)) %>%
ggplot(aes(year_Q, sum(QV)))+
geom_col()
plot
plot
costs
type(costs)
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum))+
geom_col()
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum))+
geom_col(color= "year_Q")
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum))+
geom_col(color= "year_Q")
plot_Q_cost
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, color= "year_Q"))+
geom_col()
plot_Q_cost
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= "year_Q"))+
geom_col()
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= "year_Q"))+
geom_col()
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= year_Q))+
geom_col()
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= year_Q))+
geom_col()+
coord_flip()
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= year_Q))+
geom_col()+
scale_y_continuous(labels=scales::dollar_format())
coord_flip()
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= year_Q))+
geom_col()+
scale_y_continuous(labels=scales::dollar_format())+
coord_flip()
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= year_Q))+
geom_col()+
scale_y_continuous(labels=scales::dollar_format(scale = .001, suffix = "K"))+
coord_flip()
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= year_Q))+
geom_col()+
scale_y_continuous(labels=scales::dollar_format(scale = .0001, suffix = "мил.лв", prefix = " "))+
coord_flip()
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= year_Q))+
geom_col()+
scale_y_continuous(labels=scales::dollar_format(scale = .001, suffix = " мил.лв", prefix = " "))+
coord_flip()
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= year_Q))+
geom_col()+
scale_y_continuous(labels=scales::dollar_format(scale = .001, suffix = " мил.лв", prefix = " "))+
coord_flip()+
theme(legend.position="none")
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= year_Q))+
geom_col()+
scale_y_continuous(labels=scales::dollar_format(scale = .001, suffix = " мил.лв", prefix = " "))+
coord_flip()+
theme(legend.position="none")+
labs(title= "Разходи на НЗОК за таргетни онкологични медикаменти по тримесечия",
y=" ")
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= year_Q))+
geom_col()+
scale_y_continuous(labels=scales::dollar_format(scale = .001, suffix = " мил.лв", prefix = " "))+
coord_flip()+
theme(legend.position="none")+
labs(title= "Разходи на НЗОК за таргетни онкологични медикаменти", subtitle = "милиони лева, по тримесечие",
y=" ", x= " ")
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= year_Q))+
geom_col()+
scale_y_continuous(labels=scales::dollar_format(scale = .001, suffix = " мил.лв", prefix = " "))+
coord_flip()+
theme(legend.position="none")+
labs(title= "Разходи на НЗОК за таргетни онкологични медикаменти", subtitle = "милиони лева, по тримесечие",
y=" ", x= " ")
plot_Q_cost
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= year_Q))+
geom_col()+
scale_y_continuous(labels=scales::dollar_format(scale = .001, suffix = " мил.лв", prefix = " "))+
coord_flip()+
theme(legend.position="none")+
labs(title= "Разходи на НЗОК за таргетни онкологични медикаменти", subtitle = " в милиони лева, по тримесечие",
y=" ", x= " ")
plot_Q_cost
costs = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum(QV)) %>%
flextable()
costs
plot_Q_cost = rdf %>%
group_by(year_Q) %>%
dplyr::summarise(sum= sum(QV)) %>%
ggplot(aes(year_Q, sum, fill= year_Q))+
geom_col()+
scale_y_continuous(labels=scales::dollar_format(scale = .001, suffix = " мил.лв", prefix = " "))+
coord_flip()+
theme(legend.position="none")+
labs(title= "Разходи на НЗОК за таргетни онкологични медикаменти", subtitle = " в милиони лева, по тримесечие",
y=" ", x= " ")
plot_Q_cost
